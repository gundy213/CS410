<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>GlizzyGobblersFr</title>
    <!-- Add Bootstrap 5 CSS link -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <script type="text/javascript" src="js/productCard.js"></script>
    <script type="script.js"></script>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-md navbar-light bg-light">
            <a class="navbar-brand" href="#">Glizzy Gobblers</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Deals</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Cart</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./login.html">Profile</a>
                    </li>
                </ul>
            </div>
        </nav>

    </header>

    <form action="search-results.html">
        <label for="search">Search Products:</label>
        <input type="text" id="search" name="q" />
        <button type="submit">Search</button>
      </form>
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-9">
                <div class="mt-4 p-5 bg-primary text-white rounded">
                    <h1>Glizzy Gobblers</h1>
                    <h2>Feast on Premium Cuts, Fresh to Your Doorstep: Glizzy Gobblers - Your Meaty Marvel in the World
                        of Online Food Shopping!</h2>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat..</p>
                </div>
            </div>
            <div class="col-md-3">
                <h2>Cart</h2>
                <ul class="list-group cart-items">
                    <!-- Cart items will be dynamically added here -->
                </ul>
                <p class="total-price">Total Price: $0.00</p>
            </div>
            <div class="container-fluid pt-5">
                <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4"><span class="bg-secondary pr-3">Categories</span></h2>
                <div class="row px-xl-5 pb-3">
                    <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
                        <a class="text-decoration-none" href="">
                            <div class="cat-item d-flex align-items-center mb-4">
                                <div class="overflow-hidden" style="width: 100px; height: 100px;">
                                    <img class="img-fluid" src="img/cat-1.jpg" alt="">
                                </div>
                                <div class="flex-fill pl-3">
                                    <h6>Category Name</h6>
                                    <small class="text-body">100 Products</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
                        <a class="text-decoration-none" href="">
                            <div class="cat-item img-zoom d-flex align-items-center mb-4">
                                <div class="overflow-hidden" style="width: 100px; height: 100px;">
                                    <img class="img-fluid" src="img/cat-2.jpg" alt="">
                                </div>
                                <div class="flex-fill pl-3">
                                    <h6>Category Name</h6>
                                    <small class="text-body">100 Products</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
                        <a class="text-decoration-none" href="">
                            <div class="cat-item img-zoom d-flex align-items-center mb-4">
                                <div class="overflow-hidden" style="width: 100px; height: 100px;">
                                    <img class="img-fluid" src="img/cat-3.jpg" alt="">
                                </div>
                                <div class="flex-fill pl-3">
                                    <h6>Category Name</h6>
                                    <small class="text-body">100 Products</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
                        <a class="text-decoration-none" href="">
                            <div class="cat-item img-zoom d-flex align-items-center mb-4">
                                <div class="overflow-hidden" style="width: 100px; height: 100px;">
                                    <img class="img-fluid" src="img/cat-4.jpg" alt="">
                                </div>
                                <div class="flex-fill pl-3">
                                    <h6>Category Name</h6>
                                    <small class="text-body">100 Products</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
                        <a class="text-decoration-none" href="">
                            <div class="cat-item img-zoom d-flex align-items-center mb-4">
                                <div class="overflow-hidden" style="width: 100px; height: 100px;">
                                    <img class="img-fluid" src="img/cat-4.jpg" alt="">
                                </div>
                                <div class="flex-fill pl-3">
                                    <h6>Category Name</h6>
                                    <small class="text-body">100 Products</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
                        <a class="text-decoration-none" href="">
                            <div class="cat-item img-zoom d-flex align-items-center mb-4">
                                <div class="overflow-hidden" style="width: 100px; height: 100px;">
                                    <img class="img-fluid" src="img/cat-3.jpg" alt="">
                                </div>
                                <div class="flex-fill pl-3">
                                    <h6>Category Name</h6>
                                    <small class="text-body">100 Products</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
                        <a class="text-decoration-none" href="">
                            <div class="cat-item img-zoom d-flex align-items-center mb-4">
                                <div class="overflow-hidden" style="width: 100px; height: 100px;">
                                    <img class="img-fluid" src="img/cat-2.jpg" alt="">
                                </div>
                                <div class="flex-fill pl-3">
                                    <h6>Category Name</h6>
                                    <small class="text-body">100 Products</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
                        <a class="text-decoration-none" href="">
                            <div class="cat-item img-zoom d-flex align-items-center mb-4">
                                <div class="overflow-hidden" style="width: 100px; height: 100px;">
                                    <img class="img-fluid" src="img/cat-1.jpg" alt="">
                                </div>
                                <div class="flex-fill pl-3">
                                    <h6>Category Name</h6>
                                    <small class="text-body">100 Products</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
                        <a class="text-decoration-none" href="">
                            <div class="cat-item img-zoom d-flex align-items-center mb-4">
                                <div class="overflow-hidden" style="width: 100px; height: 100px;">
                                    <img class="img-fluid" src="img/cat-2.jpg" alt="">
                                </div>
                                <div class="flex-fill pl-3">
                                    <h6>Category Name</h6>
                                    <small class="text-body">100 Products</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
                        <a class="text-decoration-none" href="">
                            <div class="cat-item img-zoom d-flex align-items-center mb-4">
                                <div class="overflow-hidden" style="width: 100px; height: 100px;">
                                    <img class="img-fluid" src="img/cat-1.jpg" alt="">
                                </div>
                                <div class="flex-fill pl-3">
                                    <h6>Category Name</h6>
                                    <small class="text-body">100 Products</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
                        <a class="text-decoration-none" href="">
                            <div class="cat-item img-zoom d-flex align-items-center mb-4">
                                <div class="overflow-hidden" style="width: 100px; height: 100px;">
                                    <img class="img-fluid" src="img/cat-4.jpg" alt="">
                                </div>
                                <div class="flex-fill pl-3">
                                    <h6>Category Name</h6>
                                    <small class="text-body">100 Products</small>
                                </div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-6 pb-1">
                        <a class="text-decoration-none" href="">
                            <div class="cat-item img-zoom d-flex align-items-center mb-4">
                                <div class="overflow-hidden" style="width: 100px; height: 100px;">
                                    <img class="img-fluid" src="img/cat-3.jpg" alt="">
                                </div>
                                <div class="flex-fill pl-3">
                                    <h6>Category Name</h6>
                                    <small class="text-body">100 Products</small>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            <!-- Categories End -->

            
        </div>


    </div>
    <div>
        <div class="container mt-5">
            <div class="row">
                <div class="col-md-9">
                    <!-- Product cards go here -->
                    <div class="row mt-4" id="productCards">
                        <div class="col-md-4">
                            <div class="card">
                                <img src="product1.jpg" alt="Product 1" class="card-img-top">
                                <div class="card-body">
                                    <h5 class="card-title">Product 1</h5>
                                    <p class="card-text">Description of Product 1</p>
                                    <p class="card-text">Price: $9.99</p>
                                    <button class="btn btn-primary add-to-cart" data-product-id="1">Add to Cart</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <img src="product2.jpg" alt="Product 2" class="card-img-top">
                                <div class="card-body">
                                    <h5 class="card-title">Product 2</h5>
                                    <p class="card-text">Description of Product 2</p>
                                    <p class="card-text">Price: $19.99</p>
                                    <button class="btn btn-primary add-to-cart" data-product-id="2">Add to Cart</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <img src="product3.jpg" alt="Product 3" class="card-img-top">
                                <div class="card-body">
                                    <h5 class="card-title">Product 3</h5>
                                    <p class="card-text">Description of Product 3</p>
                                    <p class="card-text">Price: $14.99</p>
                                    <button class="btn btn-primary add-to-cart" data-product-id="3">Add to Cart</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>


    <!-- Add Bootstrap 5 JS link -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>

        $(document).ready(function () {
            var totalPrice = 0; // Initialize total price to 0
            // Add to Cart button click event handler
            $(".add-to-cart").on("click", function () {
                var productId = $(this).data("product-id");
                var productName = $(this).siblings(".card-title").text();
                var productPrice = $(this).siblings(".card-text").last().text();
                productPrice = parseFloat(productPrice.replace(/[^0-9.]/g, ""));
                var cartItem = $(".cart-items").find("[data-product-id='" + productId + "']");
                if (cartItem.length > 0) {
                    var quantity = parseInt(cartItem.find(".cart-item-quantity").text()) + 1;
                    cartItem.find(".cart-item-quantity").text(quantity);
                    var totalPrice = productPrice * quantity;
                    cartItem.find(".cart-item-price").text("$" + productPrice.toFixed(2));
                } else {
                    var cartItemHtml = 
                    '<li class="list-group-item" data-product-id="' + productId + '">' +
                        '<div class="d-flex flex-column">' +
                            '<div class="d-flex justify-content-between align-items-center">' +
                                '<span class="cart-item-name">' + productName + '</span>' +
                                '<div class="d-flex align-items-center">' +
                                    '<button class="btn btn-sm add-from-cart"><i class="bi bi-plus"></i></button>' +
                                    '<span class="cart-item-quantity mx-2">1</span>' +
                                    '<button class="btn btn-sm remove-from-cart"><i class="bi bi-dash"></i></button>' +
                                '</div>' +
                            '</div>' +
                            '<div class="d-flex justify-content-between align-items-center">' +
                                '<span class="cart-item-price">$' + productPrice.toFixed(2) + '</span>' +
                                '<div class="d-flex align-items-center">' +
                                    '<button class="btn btn-success btn-sm checkout-from-cart me-2 text-nowrap">Checkout</button>' +
                                    '<div class="d-flex align-items-center">' +
                                        '<button class="btn btn-danger btn-sm remove-all-from-cart text-nowrap">Remove All</button>' +
                                    '</div>' +
                                '</div>' +
                            '</div>' +
                        '</div>' +
                    '</li>';
                    $(".cart-items").append(cartItemHtml);



                }

                totalPrice = 0; // Reset total price to 0
                $(".cart-items .list-group-item").each(function () {
                    var quantity = parseInt($(this).find(".cart-item-quantity").text());
                    var price = parseFloat($(this).find(".cart-item-price").text().replace(/[^0-9.]/g, ""));
                    totalPrice += (quantity * price);
                });
                $(".total-price").text("Total Price: $" + totalPrice.toFixed(2)); // Update total price in the HTML

            });

            // Add from Cart button click event handler
            $(".cart-items").on("click", ".add-from-cart", function () {
                var cartItem = $(this).closest(".list-group-item");
                var productId = cartItem.data("product-id");
                var productPrice = parseFloat(cartItem.find(".cart-item-price").text().replace(/[^0-9.]/g, ""));
                var quantity = parseInt(cartItem.find(".cart-item-quantity").text());
                quantity++;
                var totalPrice = productPrice * quantity;
                cartItem.find(".cart-item-quantity").text(quantity);
                cartItem.find(".cart-item-price").text("$" + productPrice.toFixed(2));

                totalPrice = 0; // Reset total price to 0
                $(".cart-items .list-group-item").each(function () {
                    var quantity = parseInt($(this).find(".cart-item-quantity").text());
                    var price = parseFloat($(this).find(".cart-item-price").text().replace(/[^0-9.]/g, ""));
                    totalPrice += (quantity * price);
                });
                $(".total-price").text("Total Price: $" + totalPrice.toFixed(2)); // Update total price in the HTML
            });

            // Remove from Cart button click event handler
            $(".cart-items").on("click", ".remove-from-cart", function () {
                var cartItem = $(this).closest(".list-group-item");
                var productId = cartItem.data("product-id");
                var productPrice = parseFloat(cartItem.find(".cart-item-price").text().replace(/[^0-9.]/g, ""));
                var quantity = parseInt(cartItem.find(".cart-item-quantity").text());
                if (quantity > 1) {
                    quantity--;
                    var totalPrice = productPrice * quantity;
                    cartItem.find(".cart-item-quantity").text(quantity);
                    cartItem.find(".cart-item-price").text("$" + productPrice.toFixed(2));
                } else {
                    cartItem.remove();
                }
                totalPrice = 0; // Reset total price to 0
                $(".cart-items .list-group-item").each(function () {
                    var quantity = parseInt($(this).find(".cart-item-quantity").text());
                    var price = parseFloat($(this).find(".cart-item-price").text().replace(/[^0-9.]/g, ""));
                    totalPrice += (quantity * price);
                });
                $(".total-price").text("Total Price: $" + totalPrice.toFixed(2)); // Update total price in the HTML
            });

            // Remove all from Cart button click event handler
            $(".cart-items").on("click", ".remove-all-from-cart", function () {
                var cartItem = $(this).closest(".list-group-item");
                var productId = cartItem.data("product-id");
                var productName = $(this).siblings(".card-title").text();
                var productPrice = parseFloat(cartItem.find(".cart-item-price").text().replace(/[^0-9.]/g, ""));
                var quantity = parseInt(cartItem.find(".cart-item-quantity").text());
                if (confirm("Are you sure you want to remove this item?") == true) {
                    cartItem.remove();
                    totalPrice = 0; // Reset total price to 0
                    $(".cart-items .list-group-item").each(function () {
                        var quantity = parseInt($(this).find(".cart-item-quantity").text());
                        var price = parseFloat($(this).find(".cart-item-price").text().replace(/[^0-9.]/g, ""));
                        totalPrice += (quantity * price);
                    });
                    $(".total-price").text("Total Price: $" + totalPrice.toFixed(2)); // Update total price in the HTML
                }
            });

        });

    </script>


</body>

</html>